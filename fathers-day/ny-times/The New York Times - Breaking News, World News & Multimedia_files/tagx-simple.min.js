/*! tagx-builder - v0.0.1 - 2017-06-16 13:54 */

function safelyCollectKeyweeEvent(){if(!window.Keywee||!Keywee.getEventToSend)return{};var a={};try{a=Keywee.getEventToSend()}catch(b){a={}}return TAGX.Utils.isObject(a)?a:{}}function trackMethod(a){var b="ViewContent-Search-AddToCart-AddToWishlist-InitiateCheckout-AddPaymentInfo-Purchase-Lead-CompleteRegistration";return b.indexOf(a)>-1?"track":"trackCustom"}!function(a,b){function c(){}function d(a,b){if(a){"object"==typeof a&&(a=[].slice.call(a));for(var c=0,d=a.length;d>c;c++)b.call(a,a[c],c)}}function e(a,c){var d=Object.prototype.toString.call(c).slice(8,-1);return c!==b&&null!==c&&d===a}function f(a){return e("Function",a)}function g(a){a=a||c,a._done||(a(),a._done=1)}function h(a){var b={};if("object"==typeof a)for(var c in a)a[c]&&(b={name:c,url:a[c]});else b=a.split("/"),b=b[b.length-1],c=b.indexOf("?"),b={name:-1!==c?b.substring(0,c):b,url:a};return(a=t[b.name])&&a.url===b.url?a:t[b.name]=b}function i(a){var b,a=a||t;for(b in a)if(a.hasOwnProperty(b)&&a[b].state!==z)return!1;return!0}function j(a,b){b=b||c,a.state===z?b():a.state===y?w.ready(a.name,b):a.state===x?a.onpreload.push(function(){j(a,b)}):(a.state=y,k(a,function(){a.state=z,b(),d(s[a.name],function(a){g(a)}),o&&i()&&d(s.ALL,function(a){g(a)})}))}function k(b,d){var e,d=d||c;/\.css[^\.]*$/.test(b.url)?(e=p.createElement("link"),e.type="text/"+(b.type||"css"),e.rel="stylesheet",e.href=b.url):(e=p.createElement("script"),e.type="text/"+(b.type||"javascript"),e.src=b.url),e.onload=e.onreadystatechange=function(b){b=b||a.event,("load"===b.type||/loaded|complete/.test(e.readyState)&&(!p.documentMode||9>p.documentMode))&&(e.onload=e.onreadystatechange=e.onerror=null,d())},e.onerror=function(){e.onload=e.onreadystatechange=e.onerror=null,d()},e.async=!1,e.defer=!1;var f=p.head||p.getElementsByTagName("head")[0];f.insertBefore(e,f.lastChild)}function l(){p.body?o||(o=!0,d(q,function(a){g(a)})):(a.clearTimeout(w.readyTimeout),w.readyTimeout=a.setTimeout(l,50))}function m(){p.addEventListener?(p.removeEventListener("DOMContentLoaded",m,!1),l()):"complete"===p.readyState&&(p.detachEvent("onreadystatechange",m),l())}var n,o,p=a.document,q=[],r=[],s={},t={},u="async"in p.createElement("script")||"MozAppearance"in p.documentElement.style||a.opera,v=a.head_conf&&a.head_conf.head||"head",w=a[v]=a[v]||function(){w.ready.apply(null,arguments)},x=1,y=3,z=4;if(w.load=u?function(){var a=arguments,b=a[a.length-1],c={};return f(b)||(b=null),d(a,function(d,e){d!==b&&(d=h(d),c[d.name]=d,j(d,b&&e===a.length-2?function(){i(c)&&g(b)}:null))}),w}:function(){var a=arguments,c=[].slice.call(a,1),e=c[0];return n?(e?(d(c,function(a){if(!f(a)){var c=h(a);c.state===b&&(c.state=x,c.onpreload=[],k({url:c.url,type:"cache"},function(){c.state=2,d(c.onpreload,function(a){a.call()})}))}}),j(h(a[0]),f(e)?e:function(){w.load.apply(null,c)})):j(h(a[0])),w):(r.push(function(){w.load.apply(null,a)}),w)},w.js=w.load,w.test=function(a,b,d,f){return a="object"==typeof a?a:{test:a,success:b?e("Array",b)?b:[b]:!1,failure:d?e("Array",d)?d:[d]:!1,callback:f||c},(b=!!a.test)&&a.success?(a.success.push(a.callback),w.load.apply(null,a.success)):!b&&a.failure?(a.failure.push(a.callback),w.load.apply(null,a.failure)):f(),w},w.ready=function(a,b){if(a===p)return o?g(b):q.push(b),w;if(f(a)&&(b=a,a="ALL"),"string"!=typeof a||!f(b))return w;var c=t[a];return c&&c.state===z||"ALL"===a&&i()&&o?(g(b),w):((c=s[a])?c.push(b):s[a]=[b],w)},w.ready(p,function(){i()&&d(s.ALL,function(a){g(a)}),w.feature&&w.feature("domloaded",!0)}),"complete"===p.readyState)l();else if(p.addEventListener)p.addEventListener("DOMContentLoaded",m,!1),a.addEventListener("load",l,!1);else{p.attachEvent("onreadystatechange",m),a.attachEvent("onload",l);var A=!1;try{A=null==a.frameElement&&p.documentElement}catch(B){}A&&A.doScroll&&function C(){if(!o){try{A.doScroll("left")}catch(b){return a.clearTimeout(w.readyTimeout),void(w.readyTimeout=a.setTimeout(C,50))}l()}}()}setTimeout(function(){n=!0,d(r,function(a){a()})},300)}(window),function(a){function b(a){var b=g["$"+a]||window[a];if(!b)throw new Error("Ender Error: Requested module '"+a+"' has not been defined.");return b}function c(a,b){return g["$"+a]=b}function d(a,b){for(var c in b)"noConflict"!=c&&"_VERSION"!=c&&(a[c]=b[c]);return a}function e(a,b){var c,d;this.selector=a,"undefined"==typeof a?(c=[],this.selector=""):c="string"==typeof a||a.nodeName||a.length&&"item"in a||a==window?f._select(a,b):isFinite(a.length)?a:[a],this.length=c.length;for(d=this.length;d--;)this[d]=c[d]}function f(a,b){return new e(a,b)}a.global=a;var g={},h=a.$,i=a.ender,j=a.require,k=a.provide;a.provide=c,a.require=b,e.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;++c)c in this&&a.call(b||this[c],this[c],c,this);return this},e.prototype.$=f,f._VERSION="0.4.3-dev",f.fn=e.prototype,f.ender=function(a,b){d(b?e.prototype:f,a)},f._select=function(a,b){return"string"==typeof a?(b||document).querySelectorAll(a):a.nodeName?[a]:a},f.noConflict=function(d){return a.$=h,d&&(a.provide=k,a.require=j,a.ender=i,"function"==typeof d&&d(b,c,this)),this},"undefined"!=typeof module&&module.exports&&(module.exports=f),a.ender=a.$=f}(this),function(){{var a={exports:{}};a.exports}!function(b,c){"undefined"!=typeof a?a.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[b]=c()}("domready",function(a){function b(a){for(m=1;a=d.shift();)a()}var c,d=[],e=!1,f=document,g=f.documentElement,h=g.doScroll,i="DOMContentLoaded",j="addEventListener",k="onreadystatechange",l="readyState",m=/^loade|c/.test(f[l]);return f[j]&&f[j](i,c=function(){f.removeEventListener(i,c,e),b()},e),h&&f.attachEvent(k,c=function(){/^c/.test(f[l])&&(f.detachEvent(k,c),b())}),a=h?function(b){self!=top?m?b():d.push(b):function(){try{g.doScroll("left")}catch(c){return setTimeout(function(){a(b)},50)}b()}()}:function(a){m?a():d.push(a)}}),"function"==typeof provide&&provide("domready",a.exports),!function(a){var b=require("domready");a.ender({domReady:b}),a.ender({ready:function(a){return b(a),this}},!0)}(ender)}(),function(){{var a={exports:{}};a.exports}!function(b,c,d){"undefined"!=typeof a&&a.exports?a.exports=d():"function"==typeof define&&define.amd?define(d):c[b]=d()}("qwery",this,function(){function a(){this.c={}}function b(a){return W.g(a)||W.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function c(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c])}function d(a){for(var b=[],c=0,d=a.length;d>c;++c)p(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b}function e(a){for(var b=0,c=a.length,d=[];c>b;b++)d[b]=a[b];return d}function f(a){for(;(a=a.previousSibling)&&1!=a[C];);return a}function g(a){return a.match(U)}function h(a,c,d,e,f,g,h,i,k,l,m){var n,o,p,q,r;if(1!==this[C])return!1;if(c&&"*"!==c&&this[B]&&this[B].toLowerCase()!==c)return!1;if(d&&(o=d.match(D))&&o[1]!==this.id)return!1;if(d&&(r=d.match(E)))for(n=r.length;n--;)if(!b(r[n].slice(1)).test(this.className))return!1;if(k&&s.pseudos[k]&&!s.pseudos[k](this,m))return!1;if(e&&!h){q=this.attributes;for(p in q)if(Object.prototype.hasOwnProperty.call(q,p)&&(q[p].name||p)==f)return this}return e&&!j(g,_(this,f)||"",h)?!1:this}function i(a){return X.g(a)||X.s(a,a.replace(N,"\\$1"))}function j(a,b,c){switch(a){case"=":return b==c;case"^=":return b.match(Y.g("^="+c)||Y.s("^="+c,"^"+i(c),1));case"$=":return b.match(Y.g("$="+c)||Y.s("$="+c,i(c)+"$",1));case"*=":return b.match(Y.g(c)||Y.s(c,i(c),1));case"~=":return b.match(Y.g("~="+c)||Y.s("~="+c,"(?:^|\\s+)"+i(c)+"(?:\\s+|$)",1));case"|=":return b.match(Y.g("|="+c)||Y.s("|="+c,"^"+i(c)+"(-|$)",1))}return 0}function k(a,b){var d,e,f,i,j,k,l,n=[],o=[],p=b,q=Z.g(a)||Z.s(a,a.split(T)),s=a.match(S);if(!q.length)return n;if(i=(q=q.slice(0)).pop(),q.length&&(f=q[q.length-1].match(F))&&(p=r(b,f[1])),!p)return n;for(k=g(i),j=p!==b&&9!==p[C]&&s&&/^[+~]$/.test(s[s.length-1])?function(a){for(;p=p.nextSibling;)1==p[C]&&(k[1]?k[1]==p[B].toLowerCase():1)&&(a[a.length]=p);return a}([]):p[y](k[1]||"*"),d=0,e=j.length;e>d;d++)(l=h.apply(j[d],k))&&(n[n.length]=l);return q.length?(c(n,function(a){m(a,q,s)&&(o[o.length]=a)}),o):n}function l(a,b,c){if(n(b))return a==b;if(p(b))return!!~d(b).indexOf(a);for(var e,f,i=b.split(",");b=i.pop();)if(e=Z.g(b)||Z.s(b,b.split(T)),f=b.match(S),e=e.slice(0),h.apply(a,g(e.pop()))&&(!e.length||m(a,e,f,c)))return!0;return!1}function m(a,b,c,d){function e(a,d,i){for(;i=V[c[d]](i,a);)if(n(i)&&h.apply(i,g(b[d]))){if(!d)return i;if(f=e(i,d-1,i))return f}}var f;return(f=e(a,b.length-1,a))&&(!d||$(f,d))}function n(a,b){return a&&"object"==typeof a&&(b=a[C])&&(1==b||9==b)}function o(a){var b,c,d=[];a:for(b=0;b<a.length;++b){for(c=0;c<d.length;++c)if(d[c]==a[b])continue a;d[d.length]=a[b]}return d}function p(a){return"object"==typeof a&&isFinite(a.length)}function q(a){return a?"string"==typeof a?s(a)[0]:!a[C]&&p(a)?a[0]:a:v}function r(a,b,c){return 9===a[C]?a.getElementById(b):a.ownerDocument&&((c=a.ownerDocument.getElementById(b))&&$(c,a)&&c||!$(a,a.ownerDocument)&&u('[id="'+b+'"]',a)[0])}function s(a,b){var c,f,g=q(b);if(!g||!a)return[];if(a===window||n(a))return!b||a!==window&&n(g)&&$(a,g)?[a]:[];if(a&&p(a))return d(a);if(c=a.match(R)){if(c[1])return(f=r(g,c[1]))?[f]:[];if(c[2])return e(g[y](c[2]));if(ab&&c[3])return e(g[x](c[3]))}return u(a,g)}function t(a,b){return function(c){var d,e;return J.test(c)?void(9!==a[C]&&((e=d=a.getAttribute("id"))||a.setAttribute("id",e="__qwerymeupscotty"),c='[id="'+e+'"]'+c,b(a.parentNode||a,c,!0),d||a.removeAttribute("id"))):void(c.length&&b(a,c,!1))}}var u,v=document,w=v.documentElement,x="getElementsByClassName",y="getElementsByTagName",z="querySelectorAll",A="useNativeQSA",B="tagName",C="nodeType",D=/#([\w\-]+)/,E=/\.[\w\-]+/g,F=/^#([\w\-]+)$/,G=/^\.([\w\-]+)$/,H=/^([\w\-]+)$/,I=/^([\w]+)?\.([\w\-]+)$/,J=/(^|,)\s*[>~+]/,K=/^\s+|\s*([,\s\+\~>]|$)\s*/g,L=/[\s\>\+\~]/,M=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,N=/([.*+?\^=!:${}()|\[\]\/\\])/g,O=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,P=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,Q=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,R=new RegExp(F.source+"|"+H.source+"|"+G.source),S=new RegExp("("+L.source+")"+M.source,"g"),T=new RegExp(L.source+M.source),U=new RegExp(O.source+"("+P.source+")?("+Q.source+")?"),V={" ":function(a){return a&&a!==w&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){return a?(c=f(a))&&(d=f(b))&&c==d&&c:!1}};a.prototype={g:function(a){return this.c[a]||void 0},s:function(a,b,c){return b=c?new RegExp(b):b,this.c[a]=b}};var W=new a,X=new a,Y=new a,Z=new a,$="compareDocumentPosition"in w?function(a,b){return 16==(16&b.compareDocumentPosition(a))}:"contains"in w?function(a,b){return b=9===b[C]||b==window?w:b,b!==a&&b.contains(a)}:function(a,b){for(;a=a.parentNode;)if(a===b)return 1;return 0},_=function(){var a=v.createElement("p");return(a.innerHTML='<a href="#x">x</a>')&&"#x"!=a.firstChild.getAttribute("href")?function(a,b){return"class"===b?a.className:"href"===b||"src"===b?a.getAttribute(b,2):a.getAttribute(b)}:function(a,b){return a.getAttribute(b)}}(),ab=!!v[x],bb=v.querySelector&&v[z],cb=function(a,b){var d,f,g=[];try{return 9!==b[C]&&J.test(a)?(c(d=a.split(","),t(b,function(a,b){f=a[z](b),1==f.length?g[g.length]=f.item(0):f.length&&(g=g.concat(e(f)))})),d.length>1&&g.length>1?o(g):g):e(b[z](a))}catch(h){}return db(a,b)},db=function(a,d){var e,f,g,h,i,j,l=[];if(a=a.replace(K,"$1"),f=a.match(I)){for(i=b(f[2]),e=d[y](f[1]||"*"),g=0,h=e.length;h>g;g++)i.test(e[g].className)&&(l[l.length]=e[g]);return l}return c(j=a.split(","),t(d,function(a,b,c){for(i=k(b,a),g=0,h=i.length;h>g;g++)(9===a[C]||c||$(i[g],d))&&(l[l.length]=i[g])})),j.length>1&&l.length>1?o(l):l},eb=function(a){"undefined"!=typeof a[A]&&(u=a[A]&&bb?cb:db)};return eb({useNativeQSA:!0}),s.configure=eb,s.uniq=o,s.is=l,s.pseudos={},s}),"function"==typeof provide&&provide("qwery",a.exports),function(a){var b=function(){var a;try{a=require("qwery")}catch(b){a=require("qwery-mobile")}finally{return a}}();a.pseudos=b.pseudos,a._select=function(c,d){return(a._select=function(){var c;if("function"==typeof a.create)return function(c,d){return/^\s*</.test(c)?a.create(c,d):b(c,d)};try{return c=require("bonzo"),function(a,d){return/^\s*</.test(a)?c.create(a,d):b(a,d)}}catch(d){}return b}())(c,d)},a.ender({find:function(c){var d,e,f,g,h,i=[];for(d=0,e=this.length;e>d;d++)for(h=b(c,this[d]),f=0,g=h.length;g>f;f++)i.push(h[f]);return a(b.uniq(i))},and:function(b){for(var c=a(b),d=this.length,e=0,f=this.length+c.length;f>d;d++,e++)this[d]=c[e];return this.length+=c.length,this},is:function(a,c){var d,e;for(d=0,e=this.length;e>d;d++)if(b.is(this[d],a,c))return!0;return!1}},!0)}(ender)}(),function(){{var a={exports:{}};a.exports}!function(b,c,d){"undefined"!=typeof a&&a.exports?a.exports=d():"function"==typeof define&&define.amd?define(d):c[b]=d()}("bonzo",this,function(){function a(a){return a&&a.nodeName&&(1==a.nodeType||11==a.nodeType)}function b(b,c,d){var e,f,g;if("string"==typeof b)return v.create(b);if(a(b)&&(b=[b]),d){for(g=[],e=0,f=b.length;f>e;e++)g[e]=r(c,b[e]);return g}return b}function c(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function d(a,b,c,d){for(var e,f=0,g=a.length;g>f;f++)e=d?a.length-f-1:f,b.call(c||a[e],a[e],e,a);return a}function e(b,c,d){for(var f=0,g=b.length;g>f;f++)a(b[f])&&(e(b[f].childNodes,c,d),c.call(d||b[f],b[f],f,b));return b}function f(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function g(a){return a?a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():a}function h(a){a[T]("data-node-uid")||a[S]("data-node-uid",++O);var b=a[T]("data-node-uid");return N[b]||(N[b]={})}function i(a){var b=a[T]("data-node-uid");b&&delete N[b]}function j(a){var b;try{return null===a||void 0===a?void 0:"true"===a?!0:"false"===a?!1:"null"===a?null:(b=parseFloat(a))==a?b:a}catch(c){}return void 0}function k(a,b,c){for(var d=0,e=a.length;e>d;++d)if(b.call(c||null,a[d],d,a))return!0;return!1}function l(a){return"transform"==a&&(a=V.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=V.transform+"Origin")||"float"==a&&(a=V.cssFloat),a?f(a):null}function m(a,c,e,f){var g=0,h=c||this,i=[],j=$&&"string"==typeof a&&"<"!=a.charAt(0)?$(a):a;return d(b(j),function(a,b){d(h,function(c){e(a,i[g++]=b>0?r(h,c):c)},null,f)},this,f),h.length=g,d(i,function(a){h[--g]=a},null,!f),h}function n(a,b,c){var d=v(a),e=d.css("position"),f=d.offset(),g="relative",h=e==g,i=[parseInt(d.css("left"),10),parseInt(d.css("top"),10)];"static"==e&&(d.css("position",g),e=g),isNaN(i[0])&&(i[0]=h?0:a.offsetLeft),isNaN(i[1])&&(i[1]=h?0:a.offsetTop),null!=b&&(a.style.left=b-f.left+i[0]+R),null!=c&&(a.style.top=c-f.top+i[1]+R)}function o(a,b){return"function"==typeof b?b(a):b}function p(a,b,c){var d=this[0];return d?null==a&&null==b?(s(d)?t():{x:d.scrollLeft,y:d.scrollTop})[c]:(s(d)?z.scrollTo(a,b):(null!=a&&(d.scrollLeft=a),null!=b&&(d.scrollTop=b)),this):this}function q(a){if(this.length=0,a){a="string"==typeof a||a.nodeType||"undefined"==typeof a.length?[a]:a,this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function r(a,b){var c,d,e,f=b.cloneNode(!0);if(a.$&&"function"==typeof a.cloneEvents)for(a.$(f).cloneEvents(b),c=a.$(f).find("*"),d=a.$(b).find("*"),e=0;e<d.length;e++)a.$(c[e]).cloneEvents(d[e]);return f}function s(a){return a===z||/^(?:body|html)$/i.test(a.tagName)}function t(){return{x:z.pageXOffset||B.scrollLeft,y:z.pageYOffset||B.scrollTop}}function u(a){var b=document.createElement("script"),c=a.match(F);return b.src=c[1],b}function v(a){return new q(a)}var w,x,y,z=window,A=z.document,B=A.documentElement,C="parentNode",D=/^(checked|value|selected|disabled)$/i,E=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,F=/\s*<script +src=['"]([^'"]+)['"]>/,G=["<table>","</table>",1],H=["<table><tbody><tr>","</tr></tbody></table>",3],I=["<select>","</select>",1],J=["_","",0,1],K={thead:G,tbody:G,tfoot:G,colgroup:G,caption:G,tr:["<table><tbody>","</tbody></table>",2],th:H,td:H,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:I,optgroup:I,script:J,style:J,link:J,param:J,base:J},L=/^(checked|selected|disabled)$/,M=/msie/i.test(navigator.userAgent),N={},O=0,P=/^-?[\d\.]+$/,Q=/^data-(.+)$/,R="px",S="setAttribute",T="getAttribute",U="getElementsByTagName",V=function(){var a=A.createElement("p");return a.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:"#x"!=a[U]("a")[0][T]("href"),autoTbody:0!==a[U]("tbody").length,computedStyle:A.defaultView&&A.defaultView.getComputedStyle,cssFloat:a[U]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var b,c=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(b=0;b<c.length;b++)if(c[b]in a.style)return c[b]}(),classList:"classList"in a,opasity:function(){return"undefined"!=typeof A.createElement("a").style.opacity}()}}(),W=/(^\s*|\s*$)/g,X=/\s+/,Y=String.prototype.toString,Z={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},$=A.querySelectorAll&&function(a){return A.querySelectorAll(a)},_=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(W,"")},ab=V.computedStyle?function(a,b){var c=null,d=A.defaultView.getComputedStyle(a,"");return d&&(c=d[b]),a.style[b]||c}:M&&B.currentStyle?function(a,b){var c,d;if("opacity"==b&&!V.opasity){c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{c=a.filters("alpha").opacity}catch(f){}}return c/100}return d=a.currentStyle?a.currentStyle[b]:null,a.style[b]||d}:function(a,b){return a.style[b]};return V.classList?(w=function(a,b){return a.classList.contains(b)},x=function(a,b){a.classList.add(b)},y=function(a,b){a.classList.remove(b)}):(w=function(a,b){return c(b).test(a.className)},x=function(a,b){a.className=_(a.className+" "+b)},y=function(a,b){a.className=_(a.className.replace(c(b)," "))}),q.prototype={get:function(a){return this[a]||null},each:function(a,b){return d(this,a,b)},deepEach:function(a,b){return e(this,a,b)},map:function(a,b){var c,d,e=[];for(d=0;d<this.length;d++)c=a.call(this,this[d],d),b?b(c)&&e.push(c):e.push(c);return e},html:function(a,c){var e=c?void 0===B.textContent?"innerText":"textContent":"innerHTML",f=this,g=function(c,e){d(b(a,f,e),function(a){c.appendChild(a)})},h=function(b,d){try{if(c||"string"==typeof a&&!E.test(b.tagName))return b[e]=a}catch(f){}g(b,d)};return"undefined"!=typeof a?this.empty().each(h):this[0]?this[0][e]:""},text:function(a){return this.html(a,!0)},append:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e.appendChild(a)})})},prepend:function(a){var c=this;return this.each(function(e,f){var g=e.firstChild;d(b(a,c,f),function(a){e.insertBefore(a,g)})})},appendTo:function(a,b){return m.call(this,a,b,function(a,b){a.appendChild(b)})},prependTo:function(a,b){return m.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild)},1)},before:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e[C].insertBefore(a,e)})})},after:function(a){var c=this;return this.each(function(e,f){d(b(a,c,f),function(a){e[C].insertBefore(a,e.nextSibling)},null,1)})},insertBefore:function(a,b){return m.call(this,a,b,function(a,b){a[C].insertBefore(b,a)})},insertAfter:function(a,b){return m.call(this,a,b,function(a,b){var c=a.nextSibling;c?a[C].insertBefore(b,c):a[C].appendChild(b)},1)},replaceWith:function(a){return v(b(a)).insertAfter(this),this.remove()},clone:function(a){var b,c,d=[];for(c=0,b=this.length;b>c;c++)d[c]=r(a||this,this[c]);return v(d)},addClass:function(a){return a=Y.call(a).split(X),this.each(function(b){d(a,function(a){a&&!w(b,o(b,a))&&x(b,o(b,a))})})},removeClass:function(a){return a=Y.call(a).split(X),this.each(function(b){d(a,function(a){a&&w(b,o(b,a))&&y(b,o(b,a))})})},hasClass:function(a){return a=Y.call(a).split(X),k(this,function(b){return k(a,function(a){return a&&w(b,a)})})},toggleClass:function(a,b){return a=Y.call(a).split(X),this.each(function(c){d(a,function(a){a&&("undefined"!=typeof b?b?!w(c,a)&&x(c,a):y(c,a):w(c,a)?y(c,a):x(c,a))})})},show:function(a){return a="string"==typeof a?a:"",this.each(function(b){b.style.display=a})},hide:function(){return this.each(function(a){a.style.display="none"})},toggle:function(a,b){return b="string"==typeof b?b:"","function"!=typeof a&&(a=null),this.each(function(c){c.style.display=c.offsetWidth||c.offsetHeight?"none":b,a&&a.call(c)})},first:function(){return v(this.length?this[0]:[])},last:function(){return v(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(C)},related:function(a){return v(this.map(function(b){for(b=b[a];b&&1!==b.nodeType;)b=b[a];return b||0},function(a){return a}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(a,b){function c(a,b,c){for(var d in e)if(e.hasOwnProperty(d)){c=e[d],(b=l(d))&&P.test(c)&&!(b in Z)&&(c+=R);try{a.style[b]=o(a,c)}catch(f){}}}var d,e=a;return void 0===b&&"string"==typeof a?(b=this[0],b?b===A||b===z?(d=b===A?v.doc():v.viewport(),"width"==a?d.width:"height"==a?d.height:""):(a=l(a))?ab(b,a):null:null):("string"==typeof a&&(e={},e[a]=b),M&&e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")",e.zoom=a.zoom||1,delete e.opacity),this.each(c))},offset:function(a,b){if(!a||"object"!=typeof a||"number"!=typeof a.top&&"number"!=typeof a.left){if("number"==typeof a||"number"==typeof b)return this.each(function(c){n(c,a,b)});if(!this[0])return{top:0,left:0,height:0,width:0};var c=this[0],d=c.ownerDocument.documentElement,e=c.getBoundingClientRect(),f=t(),g=c.offsetWidth,h=c.offsetHeight,i=e.top+f.y-Math.max(0,d&&d.clientTop,A.body.clientTop),j=e.left+f.x-Math.max(0,d&&d.clientLeft,A.body.clientLeft);return{top:i,left:j,height:h,width:g}}return this.each(function(b){n(b,a.left,a.top)})},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],b=9==a.nodeType&&a.documentElement,c=b||!a.style||a.offsetWidth||a.offsetHeight?null:function(b){var c={position:a.style.position||"",visibility:a.style.visibility||"",display:a.style.display||""};return b.first().css({position:"absolute",visibility:"hidden",display:"block"}),c}(this),d=b?Math.max(a.body.scrollWidth,a.body.offsetWidth,b.scrollWidth,b.offsetWidth,b.clientWidth):a.offsetWidth,e=b?Math.max(a.body.scrollHeight,a.body.offsetHeight,b.scrollHeight,b.offsetHeight,b.clientHeight):a.offsetHeight;return c&&this.first().css(c),{height:e,width:d}},attr:function(a,b){var c,d=this[0];if("string"==typeof a||a instanceof String)return"undefined"==typeof b?d?D.test(a)?L.test(a)&&"string"==typeof d[a]?!0:d[a]:"href"!=a&&"src"!=a||!V.hrefExtended?d[T](a):d[T](a,2):null:this.each(function(c){D.test(a)?c[a]=o(c,b):c[S](a,o(c,b))});for(c in a)a.hasOwnProperty(c)&&this.attr(c,a[c]);return this},removeAttr:function(a){return this.each(function(b){L.test(a)?b[a]=!1:b.removeAttribute(a)})},val:function(a){return"string"==typeof a?this.attr("value",a):this.length?this[0].value:null},data:function(a,b){var c,e,i=this[0];return"undefined"==typeof b?i?(c=h(i),"undefined"==typeof a?(d(i.attributes,function(a){(e=(""+a.name).match(Q))&&(c[f(e[1])]=j(a.value))}),c):("undefined"==typeof c[a]&&(c[a]=j(this.attr("data-"+g(a)))),c[a])):null:this.each(function(c){h(c)[a]=b})},remove:function(){return this.deepEach(i),this.detach()},empty:function(){return this.each(function(a){for(e(a.childNodes,i);a.firstChild;)a.removeChild(a.firstChild)})},detach:function(){return this.each(function(a){a[C]&&a[C].removeChild(a)})},scrollTop:function(a){return p.call(this,null,a,"y")},scrollLeft:function(a){return p.call(this,a,null,"x")}},v.setQueryEngine=function(a){$=a,delete v.setQueryEngine},v.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||q.prototype)[c]=a[c])},v.create=function(b){return"string"==typeof b&&""!==b?function(){if(F.test(b))return[u(b)];var a=b.match(/^\s*<([^\s>]+)/),c=A.createElement("div"),e=[],f=a?K[a[1].toLowerCase()]:null,g=f?f[2]+1:1,h=f&&f[3],i=C,j=V.autoTbody&&f&&"<table>"==f[0]&&!/<tbody/i.test(b);for(c.innerHTML=f?f[0]+b+f[1]:b;g--;)c=c.firstChild;h&&c&&1!==c.nodeType&&(c=c.nextSibling);do(!a||1==c.nodeType)&&(!j||c.tagName&&"TBODY"!=c.tagName)&&e.push(c);while(c=c.nextSibling);return d(e,function(a){a[i]&&a[i].removeChild(a)}),e}():a(b)?[b.cloneNode(!0)]:[]},v.doc=function(){var a=v.viewport();return{width:Math.max(A.body.scrollWidth,B.scrollWidth,a.width),height:Math.max(A.body.scrollHeight,B.scrollHeight,a.height)}},v.firstChild=function(a){for(var b,c=a.childNodes,d=0,e=c&&c.length||0;e>d;d++)1===c[d].nodeType&&(b=c[e=d]);return b},v.viewport=function(){return{width:M?B.clientWidth:self.innerWidth,height:M?B.clientHeight:self.innerHeight}},v.isAncestor="compareDocumentPosition"in B?function(a,b){return 16==(16&a.compareDocumentPosition(b))}:"contains"in B?function(a,b){return a!==b&&a.contains(b)}:function(a,b){for(;b=b[C];)if(b===a)return!0;return!1},v}),"function"==typeof provide&&provide("bonzo",a.exports),function(a){function b(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function c(a){for(var b,c,d,e=[],f=0,g=0;c=a[f];++f){for(d=!1,b=0;b<e.length;++b)if(e[b]===c){d=!0;break}d||(e[g++]=c)}return e}function d(a,b){return"undefined"==typeof b?e(this).dim()[a]:this.css(a,b)}var e=require("bonzo");e.setQueryEngine(a),a.ender(e),a.ender(e(),!0),a.ender({create:function(b){return a(e.create(b))}}),a.id=function(b){return a([document.getElementById(b)])},a.ender({parents:function(d,e){if(!this.length)return this;d||(d="*");var f,g,h,i=a(d),j=[];for(f=0,g=this.length;g>f;f++)for(h=this[f];(h=h.parentNode)&&(!~b(i,h)||(j.push(h),!e)););return a(c(j))},parent:function(){return a(c(e(this).parent()))},closest:function(a){return this.parents(a,!0)},first:function(){return a(this.length?this[0]:this)},last:function(){return a(this.length?this[this.length-1]:[])},next:function(){return a(e(this).next())},previous:function(){return a(e(this).previous())},related:function(b){return a(e(this).related(b))},appendTo:function(a){return e(this.selector).appendTo(a,this)},prependTo:function(a){return e(this.selector).prependTo(a,this)},insertAfter:function(a){return e(this.selector).insertAfter(a,this)},insertBefore:function(a){return e(this.selector).insertBefore(a,this)},clone:function(){return a(e(this).clone(this))},siblings:function(){var b,c,d,e=[];for(b=0,c=this.length;c>b;b++){for(d=this[b];d=d.previousSibling;)1==d.nodeType&&e.push(d);for(d=this[b];d=d.nextSibling;)1==d.nodeType&&e.push(d)}return a(e)},children:function(){var b,d,f,g=[];for(b=0,d=this.length;d>b;b++)if(f=e.firstChild(this[b]))for(g.push(f);f=f.nextSibling;)1==f.nodeType&&g.push(f);return a(c(g))},height:function(a){return d.call(this,"height",a)},width:function(a){return d.call(this,"width",a)}},!0)}(ender)}(),function(){{var a={exports:{}};a.exports}!function(b,c,d){"undefined"!=typeof a&&a.exports?a.exports=d():"function"==typeof define&&define.amd?define(d):c[b]=d()}("bean",this,function(a,b){a=a||"bean",b=b||this;var c,d=window,e=b[a],f=/[^\.]*(?=\..*)\.|.*/,g=/\..*/,h="addEventListener",i="removeEventListener",j=document||{},k=j.documentElement||{},l=k[h],m=l?h:"attachEvent",n={},o=Array.prototype.slice,p=function(a,b){return a.split(b||" ")},q=function(a){return"string"==typeof a},r=function(a){return"function"==typeof a},s="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",t="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",u=function(a,b,c){for(c=0;c<b.length;c++)b[c]&&(a[b[c]]=1);return a}({},p(s+(l?t:""))),v=function(){var a="compareDocumentPosition"in k?function(a,b){return b.compareDocumentPosition&&16===(16&b.compareDocumentPosition(a))}:"contains"in k?function(a,b){return b=9===b.nodeType||b===window?k:b,b!==a&&b.contains(a)}:function(a,b){for(;a=a.parentNode;)if(a===b)return 1;return 0},b=function(b){var c=b.relatedTarget;return c?c!==this&&"xul"!==c.prefix&&!/document/.test(this.toString())&&!a(c,this):null==c};return{mouseenter:{base:"mouseover",condition:b},mouseleave:{base:"mouseout",condition:b},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),w=function(){var a=p("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),b=a.concat(p("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),c=b.concat(p("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),e=a.concat(p("char charCode key keyCode keyIdentifier keyLocation location")),f=a.concat(p("data")),g=a.concat(p("touches targetTouches changedTouches scale rotation")),h=a.concat(p("data origin source")),i=a.concat(p("state")),l=/over|out/,m=[{reg:/key/i,fix:function(a,b){return b.keyCode=a.keyCode||a.which,e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,c,d){return c.rightClick=3===a.which||2===a.button,c.pos={x:0,y:0},a.pageX||a.pageY?(c.clientX=a.pageX,c.clientY=a.pageY):(a.clientX||a.clientY)&&(c.clientX=a.clientX+j.body.scrollLeft+k.scrollLeft,c.clientY=a.clientY+j.body.scrollTop+k.scrollTop),l.test(d)&&(c.relatedTarget=a.relatedTarget||a[("mouseover"==d?"from":"to")+"Element"]),b}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return c}},{reg:/^text/i,fix:function(){return f}},{reg:/^touch|^gesture/i,fix:function(){return g}},{reg:/^message$/i,fix:function(){return h}},{reg:/^popstate$/i,fix:function(){return i}},{reg:/.*/,fix:function(){return a}}],n={},o=function(a,b,c){if(arguments.length&&(a=a||((b.ownerDocument||b.document||b).parentWindow||d).event,this.originalEvent=a,this.isNative=c,this.isBean=!0,a)){var e,f,g,h,i,j=a.type,k=a.target||a.srcElement;if(this.target=k&&3===k.nodeType?k.parentNode:k,c){if(i=n[j],!i)for(e=0,f=m.length;f>e;e++)if(m[e].reg.test(j)){n[j]=i=m[e].fix;break}for(h=i(a,this,j),e=h.length;e--;)!((g=h[e])in this)&&g in a&&(this[g]=a[g])}}};return o.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},o.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},o.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},o.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},o.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},o.prototype.clone=function(a){var b=new o(this,this.element,this.isNative);return b.currentTarget=a,b},o}(),x=function(a,b){return l||b||a!==j&&a!==d?a:k},y=function(){var a=function(a,b,c,d){var e=function(c,e){return b.apply(a,d?o.call(e,c?0:1).concat(d):e)},f=function(c,d){return b.__beanDel?b.__beanDel.ft(c.target,a):d},g=c?function(a){var b=f(a,this);return c.apply(b,arguments)?(a&&(a.currentTarget=b),e(a,arguments)):void 0
}:function(a){return b.__beanDel&&(a=a.clone(f(a))),e(a,arguments)};return g.__beanDel=b.__beanDel,g},b=function(b,c,d,e,f,g,h){var i,j=v[c];"unload"==c&&(d=D(E,b,c,d,e)),j&&(j.condition&&(d=a(b,d,j.condition,g)),c=j.base||c),this.isNative=i=u[c]&&!!b[m],this.customType=!l&&!i&&c,this.element=b,this.type=c,this.original=e,this.namespaces=f,this.eventType=l||i?c:"propertychange",this.target=x(b,i),this[m]=!!this.target[m],this.root=h,this.handler=a(b,d,null,g)};return b.prototype.inNamespaces=function(a){var b,c,d=0;if(!a)return!0;if(!this.namespaces)return!1;for(b=a.length;b--;)for(c=this.namespaces.length;c--;)a[b]==this.namespaces[c]&&d++;return a.length===d},b.prototype.matches=function(a,b,c){return!(this.element!==a||b&&this.original!==b||c&&this.handler!==c)},b}(),z=function(){var a={},b=function(c,d,e,f,g,h){var i=g?"r":"$";if(d&&"*"!=d){var j,k=0,l=a[i+d],m="*"==c;if(!l)return;for(j=l.length;j>k;k++)if((m||l[k].matches(c,e,f))&&!h(l[k],l,k,d))return}else for(var n in a)n.charAt(0)==i&&b(c,n.substr(1),e,f,g,h)},c=function(b,c,d,e){var f,g=a[(e?"r":"$")+c];if(g)for(f=g.length;f--;)if(!g[f].root&&g[f].matches(b,d,null))return!0;return!1},d=function(a,c,d,e){var f=[];return b(a,c,d,null,e,function(a){return f.push(a)}),f},e=function(b){var c=!b.root&&!this.has(b.element,b.type,null,!1),d=(b.root?"r":"$")+b.type;return(a[d]||(a[d]=[])).push(b),c},f=function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,d){return c.splice(d,1),b.removed=!0,0===c.length&&delete a[(b.root?"r":"$")+b.type],!1})},g=function(){var b,c=[];for(b in a)"$"==b.charAt(0)&&(c=c.concat(a[b]));return c};return{has:c,get:d,put:e,del:f,entries:g}}(),A=function(a){c=arguments.length?a:j.querySelectorAll?function(a,b){return b.querySelectorAll(a)}:function(){throw new Error("Bean: No selector engine installed")}},B=function(a,b){if(l||!b||!a||a.propertyName=="_on"+b){var c=z.get(this,b||a.type,null,!1),d=c.length,e=0;for(a=new w(a,this,!0),b&&(a.type=b);d>e&&!a.isImmediatePropagationStopped();e++)c[e].removed||c[e].handler.call(this,a)}},C=l?function(a,b,c){a[c?h:i](b,B,!1)}:function(a,b,c,d){var e;c?(z.put(e=new y(a,d||b,function(b){B.call(a,b,d)},B,null,null,!0)),d&&null==a["_on"+d]&&(a["_on"+d]=0),e.target.attachEvent("on"+e.eventType,e.handler)):(e=z.get(a,d||b,B,!0)[0],e&&(e.target.detachEvent("on"+e.eventType,e.handler),z.del(e)))},D=function(a,b,c,d,e){return function(){d.apply(this,arguments),a(b,c,e)}},E=function(a,b,c,d){var e,f,h=b&&b.replace(g,""),i=z.get(a,h,null,!1),j={};for(e=0,f=i.length;f>e;e++)(!c||i[e].original===c)&&i[e].inNamespaces(d)&&(z.del(i[e]),!j[i[e].eventType]&&i[e][m]&&(j[i[e].eventType]={t:i[e].eventType,c:i[e].type}));for(e in j)z.has(a,j[e].t,null,!1)||C(a,j[e].t,!1,j[e].c)},F=function(a,b){var d=function(b,d){for(var e,f=q(a)?c(a,d):a;b&&b!==d;b=b.parentNode)for(e=f.length;e--;)if(f[e]===b)return b},e=function(a){var c=d(a.target,this);c&&b.apply(c,arguments)};return e.__beanDel={ft:d,selector:a},e},G=l?function(a,b,c){var e=j.createEvent(a?"HTMLEvents":"UIEvents");e[a?"initEvent":"initUIEvent"](b,!0,!0,d,1),c.dispatchEvent(e)}:function(a,b,c){c=x(c,a),a?c.fireEvent("on"+b,j.createEventObject()):c["_on"+b]++},H=function(a,b,c){var d,e,h,i,j=q(b);if(j&&b.indexOf(" ")>0){for(b=p(b),i=b.length;i--;)H(a,b[i],c);return a}if(e=j&&b.replace(g,""),e&&v[e]&&(e=v[e].base),!b||j)(h=j&&b.replace(f,""))&&(h=p(h,".")),E(a,e,c,h);else if(r(b))E(a,null,b);else for(d in b)b.hasOwnProperty(d)&&H(a,d,b[d]);return a},I=function(a,b,d,e){var h,i,j,k,l,q,s;{if(void 0!==d||"object"!=typeof b){for(r(d)?(l=o.call(arguments,3),e=h=d):(h=e,l=o.call(arguments,4),e=F(d,h,c)),j=p(b),this===n&&(e=D(H,a,b,e,h)),k=j.length;k--;)s=z.put(q=new y(a,j[k].replace(g,""),e,h,p(j[k].replace(f,""),"."),l,!1)),q[m]&&s&&C(a,q.eventType,!0,q.customType);return a}for(i in b)b.hasOwnProperty(i)&&I.call(this,a,i,b[i])}},J=function(a,b,c,d){return I.apply(null,q(c)?[a,c,b,d].concat(arguments.length>3?o.call(arguments,5):[]):o.call(arguments))},K=function(){return I.apply(n,arguments)},L=function(a,b,c){var d,e,h,i,j,k=p(b);for(d=k.length;d--;)if(b=k[d].replace(g,""),(i=k[d].replace(f,""))&&(i=p(i,".")),i||c||!a[m])for(j=z.get(a,b,null,!1),c=[!1].concat(c),e=0,h=j.length;h>e;e++)j[e].inNamespaces(i)&&j[e].handler.apply(a,c);else G(u[b],b,a);return a},M=function(a,b,c){for(var d,e,f=z.get(b,c,null,!1),g=f.length,h=0;g>h;h++)f[h].original&&(d=[a,f[h].type],(e=f[h].handler.__beanDel)&&d.push(e.selector),d.push(f[h].original),I.apply(null,d));return a},N={on:I,add:J,one:K,off:H,remove:H,clone:M,fire:L,setSelectorEngine:A,noConflict:function(){return b[a]=e,this}};if(d.attachEvent){var O=function(){var a,b=z.entries();for(a in b)b[a].type&&"unload"!==b[a].type&&H(b[a].element,b[a].type);d.detachEvent("onunload",O),d.CollectGarbage&&d.CollectGarbage()};d.attachEvent("onunload",O)}return A(),N}),"function"==typeof provide&&provide("bean",a.exports),!function(a){for(var b=require("bean"),c=function(a,c){var d=c?[c]:[];return function(){for(var e=0,f=this.length;f>e;e++)!arguments.length&&"on"==a&&c&&(a="fire"),b[a].apply(this,[this[e]].concat(d,Array.prototype.slice.call(arguments,0)));return this}},d=c("add"),e=c("on"),f=c("one"),g=c("off"),h=c("fire"),i=c("clone"),j=function(a,c,d){for(d=this.length;d--;)b.on.call(this,this[d],"mouseenter",a),b.on.call(this,this[d],"mouseleave",c);return this},k={on:e,addListener:e,bind:e,listen:e,delegate:d,one:f,off:g,unbind:g,unlisten:g,removeListener:g,undelegate:g,emit:h,trigger:h,cloneEvents:i,hover:j},l="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" "),m=l.length;m--;)k[l[m]]=c("on",l[m]);b.setSelectorEngine(a),a.ender(k,!0)}(ender)}(),function(){{var a={exports:{}};a.exports}"function"==typeof provide&&provide("jeesh",a.exports),$.ender(a.exports)}(),function(a){"use strict";var b;b={$:a.ender.noConflict(!0),setTaggerReady:function(){this.taggerReady=!0,this.EventProxy.tagsLoaded()}},a.TAGX=b}(window),TAGX.Utils=function(){"use strict";var a=window.head,b={txpcn:"tagx-p"},c=function(a,b){var c=new RegExp(a+"=([il]{1}).([^&]+)").exec(b);if(c&&c.length>=3)switch(c[1]){case"i":return parseInt(c[2],10);case"l":return TAGX.$(c[2].split(".").slice(1)).map(function(a){return parseInt(a,10)})}return null};return b.Ops=function(){var a={};return a.and=function(){var a=Array.prototype.slice.call(arguments),b=0,c=this,d=function(c){var d=!1;return function(e){d||(d=!0,e?(b+=1,b===a.length&&c(!0)):c(!1))}};return function(b){var e;for(e=0;e<a.length;e+=1)a[e].call(c,d(b))}},a.or=function(){var a=Array.prototype.slice.call(arguments),b=0,c=this,d=function(c){var d=!1;return function(e){d||(d=!0,e?c(!0):(b+=1,b===a.length&&c(!1)))}};return function(b){var e;for(e=0;e<a.length;e+=1)a[e].call(c,d(b))}},a.not=function(a){var b=this;return function(c){var d=!1;a.call(b,function(a){d||(d=!0,c(!a))})}},a.eq=function(a,b,c){this.tagger.get(a,function(a){c(a===b)})},a.ne=function(a,b,c){this.tagger.get(a,function(a){c(a!==b)})},a.startsWith=function(a,b,c){this.tagger.get(a,function(a){"string"!=typeof a&&(a=(a||"").toString()),c(a.substring(0,b.length)===b)})},a.matches=function(a,b,c){this.tagger.get(a,function(a){if("string"!=typeof a)a=(a||"").toString();else if("string"!=typeof b)return void c(!1);c(-1!==a.search(new RegExp(b)))})},a.on=function(a,b,c){var d=this;this.tagger.get(a,function(a){"function"==typeof a&&a.call(d,b,c)})},a.at=function(a,b,c){var d;for(d=0;d<b.length;d++){if(null===a||"undefined"==typeof a)return c;if(a=Object.prototype.valueOf.call(a),!(b[d]in a))return c;a=a[b[d]]}return a},a}(),b.addMetaTag=function(a,b){var c,d=TAGX.$('[name="'+a+'"]');if(d.length>0&&(c=d[0].content),!c||""===c&&""!==b){var e=document.createElement("meta");e.id=a,e.name=a,e.content=b,document.getElementsByTagName("head").item(0).appendChild(e)}},b.getMetaTag=function(a){var b=TAGX.$('[name="'+a+'"]');return b.length>0?b[0].content:""},b.isEmptyValue=function(a){return"undefined"==typeof a||null===a||""===a},b.getValue=function(a,c,d){var e=arguments.length,f=a,g="",h=!1;return 2===e?h=c:3===e&&(g=c,h=d),b.isEmptyValue(f)?b.isEmptyValue(g)?h===!0?"null":"":g.toLowerCase?g.toLowerCase():g:"object"==typeof f?f instanceof Array?f.join("|").toLowerCase():b.stringifyJson(f):f.toLowerCase?f.toLowerCase():f},b.mapToQs=function(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&(c+=(c?"&":"")+b+"="+encodeURIComponent(a[b]));return c},b.QsTomap=function(a){for(var b=(a?a:location.search).replace("?","").split("&"),c={},d=0;d<b.length;d++){var e=b[d];c[e.split("=")[0]]=e.split("=")[1]}return c},b.includeFile=function(b,c,d,e,f){if(-1!==b.indexOf("https"))if(e)null!==a&&a.js(b,function(){f&&""!==f&&TAGX.$(TAGX).trigger(f)});else{var g=document.createElement("script");g.setAttribute("type","text/javascript"),g.setAttribute("async",c===!0),g.setAttribute("src",b),d||(d="body"),document[d].appendChild(g)}},b.getCookie=function(a){var b=document.cookie?document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)"):null;return b?decodeURI(b[2]):null},b.replaceQSValue=function(a,b,c){var d=new RegExp("([?|&])"+b+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+c+"$2"):a+e+b+"="+c},b.jsonObjToDCSparams=function(a,b){if("object"==typeof a){var c,d=[],e=b||"DCSext.";for(c in a)a.hasOwnProperty(c)&&"object"!=typeof a[c]&&(d.push(e+""+c),d.push(a[c]));return d}return a},b.stringifyJson=JSON?JSON.stringify:function(a){var c=typeof a;if("object"!==c||null===a)return"string"===c&&(a='"'+a+'"'),String(a);var d,e,f=[],g=a&&a.constructor===Array;for(d in a)a.hasOwnProperty(d)===!0&&(e=a[d],c=typeof e,"string"===c?e='"'+e+'"':"object"===c&&null!==e&&(e=b.stringifyJson(e)),f.push((g?"":'"'+d+'":')+String(e)));return(g?"[":"{")+String(f)+(g?"]":"}")},b.getCanonicalUrl=function(){var a=location.href,b=TAGX.$("link[rel=canonical]");return 1===b.length&&"object"==typeof b[0]&&"string"==typeof b[0].href&&(a=b[0].href),a},b.copyObj=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},b.mergeObjects=function(a,c,d){var e;for(e in c)c.hasOwnProperty(e)&&(b.isEmptyValue(c[e])||!b.isEmptyValue(a[e])&&d===!0||(a[e]=c[e]))},b.trackClicks=function(){TAGX.$(document).on("mousedown",function(a){var c=TAGX.$(a.target),d={a:!0,button:!0,span:!0,input:!0};try{if("undefined"!=typeof d[a.target.tagName.toLowerCase()]){var e={eText:c.html(),offset:c.offset(),pDatumId:NYTD.pageEventTracker?NYTD.pageEventTracker.getDatumId():null};""!==a.target.id&&"undefined"!==a.target.id&&(e.eId=a.target.id),""!==a.target.className&&"undefined"!==a.target.className&&(e.eClasses=a.target.className);var f=b.stringifyJson(e),g=b.getCookie(b.txpcn);if(g){var h=new Date,i=h.setTime(h.getTime()+31536e6);document.cookie=b.txpcn+"="+b.replaceQSValue(g,"augRef",f)+"; path=/; domain=.nytimes.com; expires="+i}localStorage&&localStorage.setItem("augRef",f)}}catch(j){}})},b.wordCountSize=function(a){return 100>a?"BLURB_Under_100":400>a?"SUPER_SHORT_100_399":800>a?"SHORT_400_799":1200>a?"MEDIUM_800_1199":1600>a?"LONG_1200_1600":"HEAVE_Over_1600"},b.getMeterValue=function(a,d){var e,f;return d="boolean"==typeof d?d:!0,("string"==typeof a||"object"==typeof a&&a instanceof Array)&&(e=b.getCookie("nyt-m"))?(a="string"==typeof a?[a]:a,f={},TAGX.$(a).each(function(a){var b=c(a,e);null===b&&d||(f[a]=b)}),f):null},b.sendGA=function(a){var c=b.Ops.at,d=c(TAGX,["config","GoogleAnalytics"]),e=c(d,["tracker"],"ga"),f=c(d,["createOptions","name"],"");""!==f&&(f+=".");var g=function(a){var d=b.copyObj({},c(a,["hit"],{})),e=c(a,["nonInteraction"]);return(e===!0||e===!1)&&(d.nonInteraction=e),b.copyObj(d,c(a,["customDimensions"],{})),b.copyObj(d,c(a,["customMetrics"],{})),d};d&&"function"==typeof window[e]&&window[e](f+"send",g(a))},b.redactEmailAddressesFromQueryString=function(a){return a&&"string"==typeof a?a.split("&").map(function(a){return a.replace(/email=.+(@|%40).+\..+/,"email=email_block")}).join("&"):a},b.isObject=function(a){var b="object"==typeof a&&null!==a;return b&&!(a instanceof Array)},b.encodeString=function(a){for(var b=2166136261,c=b,d=0;d<a.length;++d)c^=a.charCodeAt(d),c+=(c<<1)+(c<<4)+(c<<7)+(c<<8)+(c<<24);return c>>>0},b}(),TAGX.CrossDomainMessenger=function(a){"use strict";var b,c,d,e=!1,f=a.retries||10,g=a.timeoutInterval||200,h="init",i="received init",j=this,k=!1,l={},m=[],n=function(){},o=function(a){var b;if(e){if(l[a]instanceof Array)for(b=0;b<l[a].length;b++)l[a][b](a);for(b=0;b<m.length;b++)m[b](a)}else d||(d=[]),d.push(a)},p=a.readyFunc||n,q=a.handshakeFailFunc||n,r=function(){if(d&&!(d.length<=0))for(;d.length>0;)o(d.pop())},s=function(){e||j.sendMessage(h)},t=function(){k||(k=!0,j.sendMessage(i))};a.retries||(a.retries=f),"function"==typeof a.handler&&m.push(a.handler),this.sendMessage=function(b){return e||b===i||b===h?a.target.postMessage(b,a.origin):window.console&&window.console.warn("Counterpart is not ready or does not exist. Message will be lost, not sending."),this},this.onReady=function(a){return e?a(this):p=a,this},this.onMessage=function(a){return m.push(a),this},this.onHandshakeFailure=function(a){return q=a,this},this.on=function(a,b){return l[a]instanceof Array||(l[a]=[]),l[a].push(b),this},this.off=function(a,b){var c,d=l[a];return d instanceof Array&&("function"==typeof b?-1!==(c=d.indexOf(b))&&d.splice(c,1):l[a]=[]),this},this.retryHandshake=function(b){return e||(f=b&&b.retries?b.retries:a.retries,b&&"number"==typeof b.delay&&b.delay>0?setTimeout(function(){c()},b.delay):c()),this},window.addEventListener("message",function(c){if(c.origin===a.origin)switch(c.data){case h:t();break;case i:e=!0,b&&clearTimeout(b),p(j),r();break;default:o(c.data)}},!1),(c=function(){s(),e||(f-->1?b=setTimeout(c,g):q(new Error("Exceeded maximum number of retries.")))})()},TAGX.EventProxy=function(){"use strict";var a,b,c,d=function(){},e=TAGX.$(TAGX),f=TAGX.Utils,g=f.Ops.at,h=function(a){var b={};return b.assetUrl=a.assetURl?a.assetURl:f.getCanonicalUrl(),b.url=a.url?a.url:location.href,b.referrer=document.referrer,b.subject="module-interactions",delete a.url,delete a.assetURl,b.moduleData=TAGX.Utils.stringifyJson(a),b},i=function(){var b;if("undefined"===TAGX.taggerReady||!TAGX.taggerReady)return!1;b=TAGX.config||{};var c=b&&b.analyticsReady&&b.analyticsReady instanceof Function?b.analyticsReady:function(){return a=TAGX.EventTracker||(window.NYTD?window.NYTD.EventTracker:null),!!a&&!a.getAllInstances};return c instanceof Function?c():!1},j=[],k=!0,l=function(){if(c&&window.clearInterval(c),j&&j.length>0)for(;b=j.shift();)b.eventName&&b.eventData&&TAGX.EventProxy.trigger(b.eventName,b.eventData,b.eventType?b.eventType:"")},m=function(a,b,c){return"boolean"==typeof a[b]?a[b]:c},n=function(a,b){return"function"==typeof a?a:"function"==typeof b?b:void 0},o=function(){this.whitelist=this.whitelist.concat(g(TAGX,["config","EventTracker","eventWhitelist"],[]))},p=function(b){var c,d;"pageview"===b.hit.hitType?(d=function(a){var b=document.createElement("a");return b.href=a,b}(f.getCanonicalUrl()),q({url:d.protocol+"//"+d.hostname+b.hit.page,title:b.hit.title})):(c={module:b.hit.eventCategory||"",action:b.hit.eventAction||"",eventName:b.hit.eventLabel||"",proxyEventName:b.proxyEventName,proxyEventType:b.proxyEventType,pgType:f.getMetaTag("PT")||""},/impression/i.test(b.hit.eventAction)?(c.eventtimestamp=Date.now(),NYTD.pageEventTracker.addModuleImpression(c)):(new a).track({assetUrl:f.getCanonicalUrl(),url:location.href,referrer:document.referrer,subject:"module-interactions",tagxId:TAGX.data.get("TAGX.ID"),webActiveDays:TAGX.data.get("TAGX.L.adv"),webActiveDaysList:TAGX.data.get("TAGX.L.activeDays"),moduleData:f.stringifyJson(c)}))},q=function(b){var c,d,e=f.copyObj(h(b),{subject:"page",referrer:location.href,totalTime:0});if(JSON){c=JSON.parse(e.moduleData);for(d in c)c.hasOwnProperty(d)&&!e.hasOwnProperty(d)&&(e[d]=c[d])}else e.eventData=e.moduleData;delete e.moduleData,(new a).track(e,{sendMeta:!0,useFieldOverwrites:!0,buffer:!1,collectClientData:!0})},r=function(b,c){null!==a&&"undefined"!=typeof a&&c&&c.hit&&p(c)},s=function(){var a,b=g(TAGX,["config","GoogleAnalytics"]);b?(this.globalObj=g(b,["tracker"],"ga"),a=g(b,["createOptions","name"],""),""!==a&&(a+="."),this.trackerName=a,this.whitelist=this.whitelist.concat(g(b,["eventWhitelist"],[]))):this.enabled=!1},t=function(a){var b=f.copyObj({},g(a,["hit"],{})),c=g(a,["nonInteraction"]);return"boolean"==typeof c&&(b.nonInteraction=c),f.copyObj(b,g(a,["customDimensions"],{})),f.copyObj(b,g(a,["customMetrics"],{})),b},u=function(a,b){"function"==typeof window[this.globalObj]&&window[this.globalObj](this.trackerName+"send",t(b))},v=function(a,b,c,e,f){this.name=a,b=b||{},this.enabled=m(b,"enabled",!0),this.whitelist=b.whitelist||[],this.triggerFunc=n(c,d),this.whitelistFunc=n(f),this.initFunc=n(e,d)};v.prototype.appendWhitelist=function(a){this.whitelist=this.whitelist.concat(a)},v.prototype.setWhitelist=function(a){this.whitelist=a},v.prototype.enable=function(){this.enabled=!0},v.prototype.disable=function(){this.enabled=!1},v.prototype.init=function(){"function"==typeof this.initFunc&&this.initFunc()},v.prototype.isWhitelisted=function(a,b,c){return this.whitelist&&-1!==this.whitelist.indexOf(a)?!0:"function"==typeof this.whitelistFunc?this.whitelistFunc(a,b,c):!1},v.prototype.trigger=function(a,b,c){var d;this.enabled&&(d=this.isWhitelisted(a,b,c),d&&"function"==typeof this.triggerFunc&&(this.triggerFunc(a,b,c),b.consumed=b.consumed?b.consumed+1:1))};var w={ET:new v("ET",{whitelist:[]},r,o),GA:new v("GA",{whitelist:[]},u,s)},x=function(a,b,c){("undefined"==typeof w[a]||c===!0)&&(w[a]=new v(a,b))},y=function(a){delete w[a]},z=function(a){return w[a]},A=function(a,b,c){Object.keys(w).forEach(function(d){w[d]instanceof v&&w[d].trigger(a,b,c)}),!b.consumed},B=function(){return Object.keys(w)},C=function(){Object.keys(w).forEach(function(a){w[a]instanceof v&&w[a].init()})};return window.addEventListener("message",function(a){a&&a.origin&&/\.nytimes\.com(:[\d]+)?$/.test(a.origin)&&a.data&&"NYT:TAGX:EventProxy:trigger"===a.data.type&&window.TAGX.EventProxy.trigger.apply(window.TAGX.EventProxy,a.data.args)},!1),{on:function(a,b){e.on(a,function(a,c){b(c||a)})},one:function(a,b){e.one(a,function(a,c){b(c||a)})},off:function(a){e.off(a)},trigger:function(a,b,d){if(i()===!1)return j.push({eventName:a,eventData:b,eventType:d}),void(k&&(k=!1,c=window.setInterval(function(){i()===!0&&l()},250)));a=a.replace(/\s+/g,"-"),b.proxyEventName=a,b.proxyEventType=d,A(a,b,d),e.trigger(a,b);var g,m,n,o,p,q;if("string"==typeof d?m=[d]:"object"==typeof d&&d instanceof Array&&(m=d),"object"==typeof m&&m instanceof Array)for(var r=0;r<m.length;r++){var s=m[r];0===s.indexOf("tagx-")?(g=f.copyObj({},b),g["et-event-name"]=s,e.trigger(s,g)):(g=f.copyObj({},b),n=h(g),o="module-impression",q=g.action?g.action.toLowerCase():null,p=g.module?g.module.toLowerCase():null,d=s?s.toLowerCase():q,g.eventtimestamp=(new Date).getTime(),"impression"===d?e.trigger(o,g):"pageview"===d||"page-view"===d?(n.subject="page",n.referrer=location.href,e.trigger("track-page-view",n)):"interaction"===d||null!==p?"page"===p?(o="page-interaction",e.trigger(o,g)):(o="module-interaction",e.trigger(o,n)):(n.subject="bi-proxy-data",o="bi-proxy-data",e.trigger(o,n)))}},addAnalyticTarget:x,getAnalyticTarget:z,removeAnalyticTarget:y,listAnalyticsTargets:B,tagsLoaded:C}}(),TAGX.Globals={},TAGX.Globals.Dependency=function(a,b){"use strict";var c,d=this,e=!1,f=b.name||"",g="",h=function(){},i="function"==typeof b.getter?b.getter:h,j=b.eventHandler;this.getName=function(){return f},this.getValue=function(){return g},this.init=function(){g=i(),b.eventName&&"function"==typeof j&&(TAGX.EventProxy.on(b.eventName,function(a){c&&clearTimeout(c),j(a,d)}),"number"==typeof b.timeout&&(c=setTimeout(function(){c=0,TAGX.EventProxy.off(b.eventName),b.eventHandler({timeout_reached:!0},d)},b.timeout)))},this.fullfill=function(b){e||(e=!0,b&&(g=b),a&&"function"==typeof a.fire&&a.fire())},this.isFullfilled=function(){return e}},TAGX.GlobalTag=function(a){"use strict";var b,c=this,d=!1,e=[],f=[];this.hasTagInitialized=!1;var g=function(a){var b=typeof a;d?"function"===b?a():"string"===b&&TAGX.EventProxy.trigger(a,{}):("function"===b||"string"===b)&&f.push(a)},h=function(){for(;f.length>0;)g(f.pop())};return b=this.name=a.name||"unknown_global",this.instant=a.instant||!1,a&&a.dependencies instanceof Array&&(e=a.dependencies.filter(function(a){return a.rule?a.rule():!0}).map(function(a){return new TAGX.Globals.Dependency(this,a)}.bind(this))),this.fire=function(){this.tagFired()},this.init=function(a){this._postInit()},this._postInit=function(){this.hasTagInitialized=!0,e.map(function(a){a.init()})},this.hasAllDependenciesBeenFullfilled=function(){return e.reduce(function(a,b){return a&&b.isFullfilled()},!0)},this.getDependencyValues=function(){return e.reduce(function(a,b){var c=b.getName(),d=b.getValue();return c&&d&&(a[c]=d),a},{})},this.additionalEventData={},this.addTagData=function(a){return TAGX.Utils.copyObj(this,a||{})},this.addEventData=function(a){return TAGX.Utils.copyObj(this.additionalEventData,a||{})},this.addDependant=function(a){g(a)},this.tagFired=function(){d=!0,h()},this.datalayerIsReady=function(){},this.datalayerReady=TAGX.datalayerReady,this.datalayerReady!==!0&&TAGX.EventProxy.one("TAGX:dataLayer:ready",function(){c.datalayerReady=!0,a.notifyWhenDatalayerReady===!0&&c.hasTagInitialized&&c.datalayerIsReady()}),this},TAGX.globalMaps={"nyt-v5":["videoEvents","facebook","pinterest","comscore","twitter"],nytv:["videoEvents","facebook","pinterest","comscore","twitter"],nyt4:["videoEvents","facebook","pinterest","comscore","twitter"],mobileWeb:["videoEvents","facebook","pinterest","comscore","twitter"],blogs:["videoEvents","facebook","pinterest","comscore","twitter"],nytcooking:["videoEvents","facebook","pinterest","comscore","twitter"],MOPS:["facebook","pinterest","twitter"],SEG:["facebook","pinterest"],"nyt-search":["comscore","pinterest"],"NYT-Watching":["facebook","pinterest","comscore","twitter"],"nyt-international":["facebook","pinterest","comscore","twitter"],"games-crosswords":["comscore","twitter","pinterest"],"nyt-noSourceApp":["facebook","pinterest"],"":["facebook","pinterest"]},TAGX.GlobalsInit=function(){"use strict";var a,b,c,d=TAGX.Utils.getMetaTag("sourceApp"),e=TAGX.globalMaps[d];if(e&&e.length>0)for(a=0;a<e.length;a++)b=e[a],c=TAGX.Globals[b],c instanceof TAGX.GlobalTag&&(c.init(),c.instant&&(c.fire(),c.oneAndDone&&delete TAGX.Globals[b]))},TAGX.useGlobal=function(a){"use strict";var b=TAGX.Utils.getMetaTag("sourceApp"),c=TAGX.globalMaps,d=TAGX.Globals[a]&&TAGX.Globals[a]instanceof TAGX.GlobalTag,e=c[b]&&c[b].indexOf(a)>-1;return!(!d||!e)},TAGX.ScrollManager=function(){"use strict";var a,b={subs:[],currentScrollTop:window.scrollY},c={25:"25%",50:"50%",75:"75%",100:"100%"};return b.didIscroll=function(a){return b.currentScrollTop!==a?!0:!1},b.pageWasScrolled=function(a,c,d){if(b.subs&&b.subs.length>0)for(var e=0;e<b.subs.length;e+=1){var f=b.subs[e];f.functionToRun&&f.functionToRun instanceof Function&&(f.args=f.args?f.args:{},b.copyObj(f.args,{dir:a,howMuch:c,current:d,whichSub:e}),f.functionToRun(f.args))}},b.elementInViewport=function(a,c){if(!b.isElement(a))return!1;var d=a.getBoundingClientRect(),e=c?a.offsetHeight/2:0;return d.top>=0&&d.left>=0&&d.bottom-e<=window.innerHeight&&d.right<=window.innerWidth},b.isElement=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},b.isElementVisible=function(a){var c=a.element||TAGX.$(a.elementSelector)[0];b.elementInViewport(c,a.isImpression?!0:!1)&&("undefined"!=typeof a.whichSub&&b.removeSub(a.whichSub),a.callback(!0))},b.percentageGoals=function(a){var d=parseInt(window.scrollY/(b.getDocHeight()-window.innerHeight)*100);d>=a.milestones[0]&&a.callback(!0,c[a.milestones.shift()]),0===a.milestones.length&&"undefined"!=typeof a.whichSub&&b.removeSub(a.whichSub)},b.trackVisible=function(a,c){b.addSubs({functionToRun:b.isElementVisible,args:{callback:c,element:TAGX.$(a[0])[0],elementSelector:a[0]}})},b.trackImpression=function(a,c){b.addSubs({functionToRun:b.isElementVisible,args:{callback:c,element:TAGX.$(a[0])[0],elementSelector:a[0],isImpression:!0}})},b.trackScrollMilestones=function(a){b.addSubs({functionToRun:b.percentageGoals,args:{callback:a,milestones:Object.keys(c)}})},b.addSubs=function(a){b.isWatching||b.initWatch(),b.subs.push(a)},b.removeSub=function(a){b.subs.splice(a,1),b.subs&&0===b.subs.length&&b.stopWatching()},b.copyObj=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},b.getDocHeight=function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},b.isWatching=!1,b.initWatch=function(){a=setInterval(function(){var a=window.scrollY;if(b.didIscroll(a)){var c=b.currentScrollTop<a?"down":"up",d=c===Math.abs(b.currentScrollTop-a);b.currentScrollTop=a,b.pageWasScrolled(c,d,a)}},250),b.isWatching=!0},b.stopWatching=function(){a&&(clearInterval(a),b.isWatching=!1)},b}(),TAGX.Storage=function(){"use strict";var a,b,c,d=18e5,e=6e4,f="tagx-",g=function(){},h={setItem:g,getItem:g,removeItem:g,clearExpiredItems:g,stopPeriodicCacheClearing:g,clear:g,status:function(){}};return a=function(){var a,b,c=["sessionStorage","localStorage"],d="test",e="1";for(a=0;a<c.length;a++)if(b=window[c[a]],void 0!==b)try{if(b.setItem(d,e),e===b.getItem(d))break}catch(f){b=void 0,window.console.warn("%s not supported",c[a])}return b}(),a&&(h.setItem=function(b,c){var e=Date.now()+d+",";a.setItem(f+b,e+c)},h.getItem=function(b){var c=a.getItem(f+b);return c?c.replace(/^\d{13,},/,""):""},h.removeItem=function(b){a.removeItem(f+b)},c=function(b,c,d){var e,f,g;if(b===!0)return b;if(e=a.getItem(d),e||""===e)try{g=parseInt(e.split(",",1)[0],10),f=c>=g}catch(h){f=!0}return!!f},h.clearExpiredItems=function(b){var d,e=Date.now();for(d in a)a.hasOwnProperty(d)&&"string"==typeof d&&0===d.indexOf(f)&&c(b,e,d)&&a.removeItem(d)},h.stopPeriodicCacheClearing=function(){b&&(clearInterval(b),b=0)},b=setInterval(h.clearExpiredItems,e)),h}(),TAGX.Tagger=function(){"use strict";var a,b;return a=function(){this.values={},this.valueCallbacks={}},a.prototype.get=function(a,b){this.values.hasOwnProperty(a)?b(this.values[a]):(this.valueCallbacks.hasOwnProperty(a)||(this.valueCallbacks[a]=[]),this.valueCallbacks[a].push(b))},a.prototype.define=function(a,b){var c=this;b(function(b){var d;if(!c.values[a]&&(c.values[a]=b,c.valueCallbacks[a])){for(d=0;d<c.valueCallbacks[a].length;d++)c.valueCallbacks[a][d](b);delete c.valueCallbacks[a]}})},a.prototype.tag=function(a){return new b(this,a)},b=function(a,b){this.tagger=a,this.conditionFn=function(a){a(!0)},this.times="once",this.data={},this.eventsData={},this.tagName=b},b.prototype.condition=function(a){return this.conditionFn=a,this},b.prototype.repeat=function(a){return this.times=a,this},b.prototype.run=function(a){var b=this,c=!1;return this.conditionFn.call(this,function(d){if(!c){if(c=!0,d){try{a.apply(b,[b.eventsData])}catch(e){window.console&&window.console.error('Error in "%s"',b.tagName,e)}b.eventsData={}}"many"===b.times&&b.run(a)}}),this},a}(),TAGX.Globals.comscore=new TAGX.GlobalTag({name:"comscore",instant:!0}),TAGX.Globals.comscore.mappings={business:"business","business - global":"global","Business Day - Dealbook":"dealbook","business - economy":"economy","business - energy-environment":"energy_environment","business - media":"media","business - smallbusiness":"smallbusiness","your-money":"your_money","Business Day - Economy":"economix","Business - Media and Advertising":"mediadecoder","Business Day - Small Business":"boss","Business Day - Your Money":"bucks","Business - Markets":"markets","Autos - wheels":"wheels","Science - Environment":"green",technology:"technology","technology - personaltech":"personaltech","Technology - bits":"bits","Technology - Personal Tech":"gadgetwise","Technology - pogue":"pogue","General - open":"open",style:"style",fashion:"fashion",dining:"dining",garden:"garden","fashion - weddings":"weddings","t-magazine":"t_magazine","T:Style - tmagazine":"t_style","Style - Dining":"dinersjournal","Style - Fashion":"runway","Style - parenting":"parenting",arts:"arts","arts - design":"design",books:"books","arts - dance":"dance",movies:"movies","arts - music":"music","arts - television":"television",theater:"theater","arts - video-games":"video_games","Arts - Event Search":"event_search","Arts - artsbeat":"artsbeat","Movies - carpetbagger":"carpetbagger",health:"health","health - research":"research","health - nutrition":"nutrition","health - policy":"policy","health - views":"views","Health - Health Guide":"health_guide","Health - well":"well","Health - newoldage":"newoldage","Health - consults":"consults",science:"science","science - earth":"earth","science - space":"space","Science - Environment":"green","Science - scientistatwork":"scientistatwork","Opinion - dotearth":"dotearth"},TAGX.Globals.comscore.setConfig=function(){"use strict";this.config=["c1=2","c2=3005403"];var a,b=[],c=TAGX.Utils.getCanonicalUrl(),d=TAGX.Utils.getMetaTag("CG"),e=TAGX.Utils.getMetaTag("SCG");d&&b.push(d),e&&b.push(e),a=this.mappings[b.join(" - ")],-1!==c.indexOf("markets.on.nytimes.com")&&(-1!==c.indexOf("portfolio")&&(a="portfolio"),-1!==c.indexOf("screener")&&(a="screener"),-1!==c.indexOf("analysis_tools")&&(a="analysis_tools")),a&&(this.config.push("comscorekw="+a),"object"==typeof window._comscore[0]&&(window._comscore[0].comscorekw=a))},TAGX.Globals.comscore.addListeners=function(){"use strict";if(!this.listenersOn){var a,b=!0,c=function(){var a,b,c,d,e,f,g,h=1,i=(Date.now(),function(){a=TAGX.ScrollManager.currentScrollTop,b=TAGX.ScrollManager.getDocHeight(),c=window.innerHeight,d=window.innerWidth<768,e=d?4*c:2*c,f=Math.floor(a/e)+1}),j=function(){(new Image).src="//www.nytimes.com/svc/comscore/pvc.html",TAGX.Globals.comscore.fire()},k=function(){i(),f!==h&&(j(),h=f)},l=function(){clearTimeout(g),g=setTimeout(k,500)};i(),TAGX.ScrollManager.addSubs({functionToRun:l,args:{}})};a="article-multimedia-blogs-feed-oak-post",a.indexOf(TAGX.Utils.getMetaTag("PT").toLowerCase())>-1&&c(),document.location.pathname.match("/slideshow")&&TAGX.$(TAGX).on("tagx-comscore",function(){return b?void(b=!1):void TAGX.Globals.comscore.fire()}),document.location.pathname.match("/search")&&(window.onpopstate=function(a){a.state||TAGX.Globals.comscore.fire()}),this.listenersOn=!0}},TAGX.Globals.comscore.init=function(){"use strict";window._comscore=window._comscore||[],window._comscore.push({c1:"2",c2:"3005403"}),this.setConfig(),TAGX.Utils.includeFile("https://sb.scorecardresearch.com/beacon.js",!1,"body",!0,"loaded:beacon.js")},TAGX.Globals.comscore.fire=function(){"use strict";return this.listenersOn?(this.setConfig(),void udm_("https://sb.scorecardresearch.com/b?"+this.config.join("&"))):void this.addListeners()},TAGX.Globals.etLiInclude=new TAGX.GlobalTag({name:"eventtracker-include",instant:!0}),TAGX.Globals.facebook=new TAGX.GlobalTag({name:"facebook",instant:!1,notifyWhenDatalayerReady:!0,dependencies:[{name:"mc",getter:function(){var a=TAGX.Utils.getMeterValue("v");return"undefined"!=typeof a&&null!==a?a.v||"":""},eventName:"nytd:meter:viewedCountUpdated",eventHandler:function(a,b){b.fullfill(a&&a.v||"")},timeout:5e3}]}),TAGX.Globals.facebook.init=function(){!function(a,b,c,d,e,f,g){a.fbq||(e=a.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},a._fbq||(a._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],f=b.createElement(c),f.async=!0,f.src=d,g=b.getElementsByTagName(c)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init",this.pixelId||"592202027582499"),this._postInit()
},TAGX.Globals.facebook.datalayerIsReady=function(){this.fire()},TAGX.Globals.facebook.fire=function(){var a,b,c;if(this.hasAllDependenciesBeenFullfilled()&&this.datalayerReady){c={ad:parseInt(TAGX.data.get("TAGX.L.adv")),articleId:TAGX.Utils.getMetaTag("articleid"),fbk:localStorage.getItem("kxsegs")||"",pScore:TAGX.data.get("propensity.p"),c1Score:TAGX.data.get("propensity.c1"),c2Score:TAGX.data.get("propensity.c2"),c3Score:TAGX.data.get("propensity.c3"),sourceApp:TAGX.Utils.getMetaTag("sourceApp"),watSegs:TAGX.data.get("user.watSegs"),fbBrowser:/\/FBIOS/i.test(navigator.userAgent),content_ids:[TAGX.Utils.encodeString(window.location.pathname)],content_type:"product",content_category:TAGX.Utils.getMetaTag("dfp-ad-unit-path"),userAgent:navigator.userAgent},a=this.getDependencyValues(),a.value=a.value||0,a.currency=a.currency||"USD",b=TAGX.Utils.copyObj(c,a),b=TAGX.Utils.copyObj(b,this.additionalEventData),b=TAGX.Utils.copyObj(b,safelyCollectKeyweeEvent());var d=this.eventName||"Purchase";fbq(trackMethod(d),d,b),this.tagFired(),this.resetEventName()}},TAGX.Globals.facebook.resetEventName=function(){this.eventName=null},TAGX.Globals.pinterest=new TAGX.GlobalTag({name:"pinterest",instant:!1,notifyWhenDatalayerReady:!0}),TAGX.Globals.pinterest.init=function(){!function(a){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var b=window.pintrk;b.queue=[],b.version="3.0";var c=document.createElement("script");c.async=!0,c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}("https://s.pinimg.com/ct/core.js"),pintrk("load","2619180518495"),pintrk("page",{page_name:TAGX.Utils.getMetaTag("headline"),page_category:TAGX.Utils.getMetaTag("dfp-ad-unit-path")}),this._postInit()},TAGX.Globals.pinterest.datalayerIsReady=function(){this.fire()},TAGX.Globals.pinterest.fire=function(){if(this.hasAllDependenciesBeenFullfilled()&&this.datalayerReady){var a={ad:parseInt(TAGX.data.get("TAGX.L.adv")),articleId:TAGX.Utils.getMetaTag("articleid"),fbk:localStorage.getItem("kxsegs")||"",pScore:TAGX.data.get("propensity.p"),aScore:TAGX.data.get("propensity.a"),sourceApp:TAGX.Utils.getMetaTag("sourceApp"),watSegs:TAGX.data.get("user.watSegs"),fbBrowser:/\/FBIOS/i.test(navigator.userAgent),content_ids:[TAGX.Utils.encodeString(window.location.pathname)],content_type:"product",content_category:TAGX.Utils.getMetaTag("dfp-ad-unit-path"),userAgent:navigator.userAgent,value:0,currency:"USD"};a=TAGX.Utils.copyObj(a,this.getDependencyValues()||{}),a=TAGX.Utils.copyObj(a,this.additionalEventData||{}),pintrk("track",this.eventName||"pagevisit",a),this.tagFired()}},TAGX.Globals.twitter=new TAGX.GlobalTag({name:"twitter",instant:!0,oneAndDone:!0}),TAGX.Globals.twitter.init=function(){!function(a,b,c,d,e,f){a.twq||(d=a.twq=function(){d.exe?d.exe.apply(d,arguments):d.queue.push(arguments)},d.version="1.1",d.queue=[],e=b.createElement(c),e.async=!0,e.src="//static.ads-twitter.com/uwt.js",f=b.getElementsByTagName(c)[0],f.parentNode.insertBefore(e,f))}(window,document,"script"),twq("init","nuqgp"),this._postInit()},TAGX.Globals.twitter.fire=function(){twq("track","PageView"),this.tagFired()},TAGX.Globals.videoEvents=new TAGX.GlobalTag({name:"video-events",instant:!1}),TAGX.Globals.videoEvents.init=function(){TAGX.$(TAGX).on("tagx-event-video",function(a){TAGX.Globals.videoEvents.fire({eventData:a})})},TAGX.Globals.videoEvents.fire=function(a){var b=TAGX.config?TAGX.config.GoogleAnalytics:null,c=a.eventData;if(b&&b.id&&c){var d=("live"===c.mData.videoDeliveryMethod?"Live | ":"Video | ")+(c.version||""),e=decodeURIComponent(c.mData?c.mData.videoName||"":""),f={dimension141:c.mData.videoPrimaryPlaylistId||"null",dimension142:c.mData.videoPrimaryPlaylistName||"null",dimension138:c.mData.videoFranchise||"null",dimension139:c.mData.videoSection||"null",dimension123:c.contentId||"null",dimension124:c.mData.adDuration||"null",dimension163:c.mData.videoType||"null"},g={"percent-25-viewed":1,"percent-50-viewed":1,"percent-75-viewed":1,"video-complete":1,"user-play":1,"auto-play-next":1,"auto-play-start":1},h=TAGX.Utils.copyObj({"ad-start":1,"ad-complete":1,"skip-ad":1,"player-load":1,"video-load":1},g);if(h.hasOwnProperty(c.eventName)&&(f.dimension125=c.mData.adPosition),g.hasOwnProperty(c.eventName)){var i=function(){var a=[1,2,3,4,5,10,20,30,40],b=4;return function(c){var d=a.reduce(function(d,e,f){if("string"==typeof d)return d;var g=30*d,h=30*e;return 0!==g&&(g+=1),c>=g&&h>=c?b>=f?g+"-"+h+" seconds":f===b+1?g+" seconds to "+h/60+" minutes":Math.floor(g/60)+" minutes to "+h/60+" minutes":f===a.length-1?"more than "+h/60+" minutes":e},0);return d}}();f.dimension126=c.mData.videoDuration,f.dimension127=i(c.mData.videoDuration)}var j=function(a){return TAGX.Utils.copyObj(a,f)},k={"ad-complete":[d,"ad complete",e,f],"ad-pause":[d,"ad pause",e,f],"ad-resume":[d,"ad resume",e,f],"ad-start":[d,"ad start",e,f],"auto-play-next":[d,"autoplay next",e,j({metric32:1})],"auto-play-start":[d,"autoplay start",e,j({metric31:1})],"exit-fullscreen":[d,"exit fullscreen",e,f],"go-fullscreen":[d,"go fullscreen",e,f],"hd-off":[d,"hd off",e,f],"hd-on":[d,"hd on",e,f],pause:[d,"pause",e,f],"percent-25-viewed":[d,"viewed: 25%",e,j({metric24:1})],"percent-50-viewed":[d,"viewed: 50%",e,j({metric25:1})],"percent-75-viewed":[d,"viewed: 75%",e,j({metric26:1})],"3-seconds-viewed":[d,"3-seconds-viewed",e,j({metric42:1})],"30-seconds-viewed":[d,"30-seconds-viewed",e,j({metric43:1})],"360-drag-start":[d,"360-drag-start",e,j({metric58:1})],"360-drag-stop":[d,"360-drag-stop",e,j({metric59:1})],"360-compass-click":[d,"360-compass-click",e,j({metric60:1})],resume:[d,"resume",e,f],"share-embed":[d,"share: embed",e,j({metric4:1})],"share-facebook":[d,"share: facebook",e,j({metric4:1})],"share-twitter":[d,"share: twitter",e,j({metric4:1})],"skip-ad":[d,"ad skip",e,f],"user-play":[d,"user play",e,j({metric1:1})],"video-complete":[d,"viewed:100%",e,j({metric3:1})],"video-load":[d,"video load",e,f],"media-error":[d,"media-error",e,j({nonInteraction:!0})],"cherry-api-request-error":[d,"cherry-api-request-error",e,j({nonInteraction:!0})],"fw-admanager-load-error":[d,"fw-admanager-load-error",e,j({nonInteraction:!0})],"qos-library-load-failure":[d,"qos-library-load-failure",e,j({nonInteraction:!0})],"rendition-not-found":[d,"rendition-not-found",e,j({nonInteraction:!0})],"player-load":[d,"player load",e,j({nonInteraction:!0})],"imax-countdown-pause":[d,"imax-countdown-pause",e,j({nonInteraction:!1})],"imax-countdown-complete":[d,"imax-countdown-complete",e,j({nonInteraction:!1})]},l=k[c.eventName];if(!l)return;var m=b.tracker||"ga",n=b.createOptions&&b.createOptions.name?b.createOptions.name+".":"",o=l.slice(0);o.unshift(n+"send","event"),window[m].apply(window,o),this.fireFacebookPixel(c.eventName,e)}},TAGX.Globals.videoEvents.fireFacebookPixel=function(a,b){var c=["auto-play-next","auto-play-start","percent-25-viewed","percent-50-viewed","percent-75-viewed","user-play"].indexOf(a)>-1;if(c){var d={videoTitle:b},e="videoPlay";a.indexOf("play")>-1&&(d.playType=a.indexOf("user")>-1?"manual":a.replace("auto-play-","")),a.indexOf("viewed")>-1&&(e="videoViewed",d.milestone=a.replace(/\D/g,"")),TAGX.Globals.facebook.addTagData({eventName:e}),TAGX.Globals.facebook.addEventData(d),TAGX.Globals.facebook.fire()}},TAGX.Ops=TAGX.Utils.Ops,function(a,b){"use strict";var c,d,e,f=!1,g=a.NYTD||a.NYTCN,h=["foundation/hosts"],i="foundation/lib/tracking";if(!TAGX||TAGX.taggerRecuested!==!0&&TAGX.taggerReady!==!0){if(c=function(){var a=null,b=null,c=null,d={prod:"https://tagx.nytimes.com",stg:"https://tagx.stg.use1.nytimes.com",dev:"https://tagx.dev.use1.nytimes.com",sandbox:"//localhost:8080"};if(c=d.prod,"object"==typeof g&&("string"==typeof g.env?b=g.env:"object"==typeof g.Host&&"function"==typeof g.Host.getEnv&&(b=g.Host.getEnv())),null!==b)switch(b){case"staging":case"stg":c=d.stg;break;case"development":case"dev":c=d.dev;break;case"sandbox":c=d.sandbox}else null!==(a=/\.(dev|stg)\.nytimes\.com$/.exec(location.hostname))&&(c=d[a[1]]);return c},e=!0,"function"==typeof require&&"function"==typeof require.defined&&"function"==typeof define&&"object"==typeof define.amd&&"function"==typeof requirejs){for(d=0;d<h.length;d+=1)e=e&&requirejs.defined(h[d])===!0;e===!0?(requirejs.undef(i),define(i,h,function(a){var b=null;return b="object"==typeof a&&"string"==typeof a.tagx?a.tagx:c()}),require([i],function(a){b(a)})):b(c()),f=!0}f===!1&&b(c())}}(this,function(a){"use strict";var b,c,d,e,f=TAGX.Utils.getMetaTag,g=window.sessionStorage||window.localStorage,h={assetUrl:TAGX.Utils.getCanonicalUrl().replace(/\.(stg|dev)\./,"."),sourceApp:f("sourceApp"),url:location.href};if(window.NYTD&&window.NYTD.hasOwnProperty("AnalyticsOverrides")===!0&&"object"==typeof window.NYTD.AnalyticsOverrides)for(e in h)h.hasOwnProperty(e)===!0&&window.NYTD.AnalyticsOverrides.hasOwnProperty(e)&&(h[e]=window.NYTD.AnalyticsOverrides[e]);b=a+"/?url="+encodeURIComponent(h.url)+"&assetUrl="+encodeURIComponent(h.assetUrl)+"&referrer="+encodeURIComponent(document.referrer)+"&CG="+encodeURIComponent(f("CG"))+"&SCG="+encodeURIComponent(f("SCG")),d=TAGX.$("#nyt-tag-ext"),d&&d.length>0&&(h.sourceApp=TAGX.$(d).attr("class"),b+="&external=true"),""!==h.sourceApp?b+="&sourceApp="+encodeURIComponent(h.sourceApp):/\.nytimes\.com$/.test(location.hostname)&&(b+="&sourceApp=nyt-noSourceApp"),g&&"off"===g.getItem("tagx_cache_buster")||(b+="&_cache_buster_="+(new Date).getTime()),"function"==typeof TAGX.GlobalsInit&&TAGX.GlobalsInit(),"object"==typeof TAGX&&"object"==typeof TAGX.Utils&&"function"==typeof TAGX.Utils.includeFile?(TAGX.taggerRecuested=!0,TAGX.Utils.includeFile(b,!1,"body",!0)):(TAGX.taggerRecuested=!0,c=document.createElement("script"),c.src=b,document.body.appendChild(c))});
//# sourceMappingURL=tagx-simple.min.js.map